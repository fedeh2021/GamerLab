USE gamerlab_db;


CREATE TABLE categorias (
id INT NOT NULL AUTO_INCREMENT,
nombre VARCHAR(255) DEFAULT NULL,
descripcion VARCHAR(510) DEFAULT NULL,
created_at DATETIME DEFAULT NULL, 
updated_at DATETIME DEFAULT NULL, 
deleted_at DATETIME DEFAULT NULL, 
PRIMARY KEY (id)
);


CREATE TABLE productos (
id INT NOT NULL AUTO_INCREMENT,
categoria_fk INT DEFAULT NULL,
nombre VARCHAR(255) DEFAULT NULL,
imagen VARCHAR(255) DEFAULT NULL,
descripcion VARCHAR(510) DEFAULT NULL,
precio_lista DECIMAL DEFAULT NULL,
descuento DECIMAL DEFAULT NULL,
stock INT DEFAULT NULL,
deleteable BOOLEAN DEFAULT NULL,
created_at DATETIME DEFAULT NULL,
updated_at DATETIME DEFAULT NULL,
deleted_at DATETIME DEFAULT NULL,
PRIMARY KEY (id),
FOREIGN KEY (categoria_fk) REFERENCES categorias(id)
);


CREATE TABLE facturas (
id INT NOT NULL AUTO_INCREMENT,
total_a_pagar DECIMAL DEFAULT NULL,
PRIMARY KEY (id)
);


CREATE TABLE envios (
id INT NOT NULL AUTO_INCREMENT,
pais VARCHAR(255) DEFAULT NULL,
ciudad VARCHAR(255) DEFAULT NULL,
region VARCHAR(255) DEFAULT NULL,
direccion VARCHAR(255) DEFAULT NULL,
altura VARCHAR(255) DEFAULT NULL,
piso VARCHAR(255) DEFAULT NULL,
codigo_postal VARCHAR(255) DEFAULT NULL,
PRIMARY KEY (id)
);


CREATE TABLE clientes (
id INT NOT NULL AUTO_INCREMENT,
envio_fk INT NULL,
nombre VARCHAR(255) DEFAULT NULL,
apellido VARCHAR(255) DEFAULT NULL,
email VARCHAR(255) DEFAULT NULL,
contrasena VARCHAR(255) DEFAULT NULL,
rol BOOLEAN DEFAULT NULL,
dni INT DEFAULT NULL,
fecha_nacimiento DATE DEFAULT NULL,
telefono INT DEFAULT NULL, 
imagen VARCHAR(255) DEFAULT NULL,
created_at DATETIME, 
updated_at DATETIME, 
deleted_at DATETIME, 
PRIMARY KEY (id),
FOREIGN KEY (envio_fk) REFERENCES envios(id)
);


CREATE TABLE pedidos (
id INT NOT NULL AUTO_INCREMENT,
cliente_fk INT DEFAULT NULL,
producto_fk INT DEFAULT NULL,
factura_fk INT DEFAULT NULL,
precio_venta DECIMAL DEFAULT NULL,
cantidad_prod INT DEFAULT NULL,
estado VARCHAR(255) DEFAULT NULL, 
PRIMARY KEY (id),
FOREIGN KEY (cliente_fk) REFERENCES clientes(id),
FOREIGN KEY (producto_fk) REFERENCES productos(id),
FOREIGN KEY (factura_fk) REFERENCES facturas(id)
);